(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Passenger-Passenger"],{"0f15":function(t,e,s){function a(t){this.key=t.key,this.requestConfig={key:t.key,s:"rsx",platform:"WXJS",appname:t.key,sdkversion:"1.2.0",logversion:"2.0"},this.MeRequestConfig={key:t.key,serviceName:"https://restapi.amap.com/rest/me"}}s("4de4"),s("d3b7"),s("acd8"),s("14d9"),a.prototype.getWxLocation=function(t,e){wx.getLocation({type:"gcj02",success:function(t){t=t.longitude+","+t.latitude,wx.setStorage({key:"userLocation",data:t}),e(t)},fail:function(s){wx.getStorage({key:"userLocation",success:function(t){t.data&&e(t.data)}}),t.fail({errCode:"0",errMsg:s.errMsg||""})}})},a.prototype.getMEKeywordsSearch=function(t){if(!t.options)return t.fail({errCode:"0",errMsg:"缺少必要参数"});var e=t.options,s=this.MeRequestConfig,a={key:s.key,s:"rsx",platform:"WXJS",appname:t.key,sdkversion:"1.2.0",logversion:"2.0"};e.layerId&&(a.layerId=e.layerId),e.keywords&&(a.keywords=e.keywords),e.city&&(a.city=e.city),e.filter&&(a.filter=e.filter),e.sortrule&&(a.sortrule=e.sortrule),e.pageNum&&(a.pageNum=e.pageNum),e.pageSize&&(a.pageSize=e.pageSize),e.sig&&(a.sig=e.sig),wx.request({url:s.serviceName+"/cpoint/datasearch/local",data:a,method:"GET",header:{"content-type":"application/json"},success:function(e){(e=e.data)&&e.status&&"1"===e.status&&0===e.code?t.success(e.data):t.fail({errCode:"0",errMsg:e})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},a.prototype.getMEIdSearch=function(t){if(!t.options)return t.fail({errCode:"0",errMsg:"缺少必要参数"});var e=t.options,s=this.MeRequestConfig,a={key:s.key,s:"rsx",platform:"WXJS",appname:t.key,sdkversion:"1.2.0",logversion:"2.0"};e.layerId&&(a.layerId=e.layerId),e.id&&(a.id=e.id),e.sig&&(a.sig=e.sig),wx.request({url:s.serviceName+"/cpoint/datasearch/id",data:a,method:"GET",header:{"content-type":"application/json"},success:function(e){(e=e.data)&&e.status&&"1"===e.status&&0===e.code?t.success(e.data):t.fail({errCode:"0",errMsg:e})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},a.prototype.getMEPolygonSearch=function(t){if(!t.options)return t.fail({errCode:"0",errMsg:"缺少必要参数"});var e=t.options,s=this.MeRequestConfig,a={key:s.key,s:"rsx",platform:"WXJS",appname:t.key,sdkversion:"1.2.0",logversion:"2.0"};e.layerId&&(a.layerId=e.layerId),e.keywords&&(a.keywords=e.keywords),e.polygon&&(a.polygon=e.polygon),e.filter&&(a.filter=e.filter),e.sortrule&&(a.sortrule=e.sortrule),e.pageNum&&(a.pageNum=e.pageNum),e.pageSize&&(a.pageSize=e.pageSize),e.sig&&(a.sig=e.sig),wx.request({url:s.serviceName+"/cpoint/datasearch/polygon",data:a,method:"GET",header:{"content-type":"application/json"},success:function(e){(e=e.data)&&e.status&&"1"===e.status&&0===e.code?t.success(e.data):t.fail({errCode:"0",errMsg:e})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},a.prototype.getMEaroundSearch=function(t){if(!t.options)return t.fail({errCode:"0",errMsg:"缺少必要参数"});var e=t.options,s=this.MeRequestConfig,a={key:s.key,s:"rsx",platform:"WXJS",appname:t.key,sdkversion:"1.2.0",logversion:"2.0"};e.layerId&&(a.layerId=e.layerId),e.keywords&&(a.keywords=e.keywords),e.center&&(a.center=e.center),e.radius&&(a.radius=e.radius),e.filter&&(a.filter=e.filter),e.sortrule&&(a.sortrule=e.sortrule),e.pageNum&&(a.pageNum=e.pageNum),e.pageSize&&(a.pageSize=e.pageSize),e.sig&&(a.sig=e.sig),wx.request({url:s.serviceName+"/cpoint/datasearch/around",data:a,method:"GET",header:{"content-type":"application/json"},success:function(e){(e=e.data)&&e.status&&"1"===e.status&&0===e.code?t.success(e.data):t.fail({errCode:"0",errMsg:e})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},a.prototype.getGeo=function(t){var e=this.requestConfig,s=t.options;e={key:this.key,extensions:"all",s:e.s,platform:e.platform,appname:this.key,sdkversion:e.sdkversion,logversion:e.logversion},s.address&&(e.address=s.address),s.city&&(e.city=s.city),s.batch&&(e.batch=s.batch),s.sig&&(e.sig=s.sig),wx.request({url:"https://restapi.amap.com/v3/geocode/geo",data:e,method:"GET",header:{"content-type":"application/json"},success:function(e){(e=e.data)&&e.status&&"1"===e.status?t.success(e):t.fail({errCode:"0",errMsg:e})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},a.prototype.getRegeo=function(t){function e(e){var a=s.requestConfig;wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:s.key,location:e,extensions:"all",s:a.s,platform:a.platform,appname:s.key,sdkversion:a.sdkversion,logversion:a.logversion},method:"GET",header:{"content-type":"application/json"},success:function(s){if(s.data.status&&"1"==s.data.status){s=s.data.regeocode;var a=s.addressComponent,i=[],o=s.roads[0].name+"附近",r=e.split(",")[0],n=e.split(",")[1];if(s.pois&&s.pois[0]){o=s.pois[0].name+"附近";var c=s.pois[0].location;c&&(r=parseFloat(c.split(",")[0]),n=parseFloat(c.split(",")[1]))}a.provice&&i.push(a.provice),a.city&&i.push(a.city),a.district&&i.push(a.district),a.streetNumber&&a.streetNumber.street&&a.streetNumber.number?(i.push(a.streetNumber.street),i.push(a.streetNumber.number)):i.push(s.roads[0].name),i=i.join(""),t.success([{iconPath:t.iconPath,width:t.iconWidth,height:t.iconHeight,name:i,desc:o,longitude:r,latitude:n,id:0,regeocodeData:s}])}else t.fail({errCode:s.data.infocode,errMsg:s.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var s=this;t.location?e(t.location):s.getWxLocation(t,(function(t){e(t)}))},a.prototype.getWeather=function(t){function e(e){var i="base";t.type&&"forecast"==t.type&&(i="all"),wx.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",data:{key:s.key,city:e,extensions:i,s:a.s,platform:a.platform,appname:s.key,sdkversion:a.sdkversion,logversion:a.logversion},method:"GET",header:{"content-type":"application/json"},success:function(e){if(e.data.status&&"1"==e.data.status)if(e.data.lives){if((e=e.data.lives)&&0<e.length){e=e[0];var s={city:{text:"城市",data:e.city},weather:{text:"天气",data:e.weather},temperature:{text:"温度",data:e.temperature},winddirection:{text:"风向",data:e.winddirection+"风"},windpower:{text:"风力",data:e.windpower+"级"},humidity:{text:"湿度",data:e.humidity+"%"}};s.liveData=e,t.success(s)}}else e.data.forecasts&&e.data.forecasts[0]&&t.success({forecast:e.data.forecasts[0]});else t.fail({errCode:e.data.infocode,errMsg:e.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var s=this,a=s.requestConfig;t.city?e(t.city):s.getWxLocation(t,(function(i){(function(i){wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:s.key,location:i,extensions:"all",s:a.s,platform:a.platform,appname:s.key,sdkversion:a.sdkversion,logversion:a.logversion},method:"GET",header:{"content-type":"application/json"},success:function(s){if(s.data.status&&"1"==s.data.status){if(s=s.data.regeocode,s.addressComponent)var a=s.addressComponent.adcode;else s.aois&&0<s.aois.length&&(a=s.aois[0].adcode);e(a)}else t.fail({errCode:s.data.infocode,errMsg:s.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})})(i)}))},a.prototype.getPoiAround=function(t){function e(e){e={key:s.key,location:e,s:a.s,platform:a.platform,appname:s.key,sdkversion:a.sdkversion,logversion:a.logversion},t.querytypes&&(e.types=t.querytypes),t.querykeywords&&(e.keywords=t.querykeywords),wx.request({url:"https://restapi.amap.com/v3/place/around",data:e,method:"GET",header:{"content-type":"application/json"},success:function(e){if(e.data.status&&"1"==e.data.status){if((e=e.data)&&e.pois){for(var s=[],a=0;a<e.pois.length;a++){var i=0==a?t.iconPathSelected:t.iconPath;s.push({latitude:parseFloat(e.pois[a].location.split(",")[1]),longitude:parseFloat(e.pois[a].location.split(",")[0]),iconPath:i,width:22,height:32,id:a,name:e.pois[a].name,address:e.pois[a].address})}t.success({markers:s,poisData:e.pois})}}else t.fail({errCode:e.data.infocode,errMsg:e.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var s=this,a=s.requestConfig;t.location?e(t.location):s.getWxLocation(t,(function(t){e(t)}))},a.prototype.getStaticmap=function(t){function e(e){s.push("location="+e),t.zoom&&s.push("zoom="+t.zoom),t.size&&s.push("size="+t.size),t.scale&&s.push("scale="+t.scale),t.markers&&s.push("markers="+t.markers),t.labels&&s.push("labels="+t.labels),t.paths&&s.push("paths="+t.paths),t.traffic&&s.push("traffic="+t.traffic),e="https://restapi.amap.com/v3/staticmap?"+s.join("&"),t.success({url:e})}var s=[];s.push("key="+this.key);var a=this.requestConfig;s.push("s="+a.s),s.push("platform="+a.platform),s.push("appname="+a.appname),s.push("sdkversion="+a.sdkversion),s.push("logversion="+a.logversion),t.location?e(t.location):this.getWxLocation(t,(function(t){e(t)}))},a.prototype.getInputtips=function(t){var e=Object.assign({},this.requestConfig);t.location&&(e.location=t.location),t.keywords&&(e.keywords=t.keywords),t.type&&(e.type=t.type),t.city&&(e.city=t.city),t.citylimit&&(e.citylimit=t.citylimit),wx.request({url:"https://restapi.amap.com/v3/assistant/inputtips",data:e,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.tips&&t.success({tips:e.data.tips})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},a.prototype.getDrivingRoute=function(t){var e=Object.assign({},this.requestConfig);t.origin&&(e.origin=t.origin),t.destination&&(e.destination=t.destination),t.strategy&&(e.strategy=t.strategy),t.waypoints&&(e.waypoints=t.waypoints),t.avoidpolygons&&(e.avoidpolygons=t.avoidpolygons),t.avoidroad&&(e.avoidroad=t.avoidroad),wx.request({url:"https://restapi.amap.com/v3/direction/driving",data:e,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.route&&t.success({paths:e.data.route.paths,taxi_cost:e.data.route.taxi_cost||""})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},a.prototype.getWalkingRoute=function(t){var e=Object.assign({},this.requestConfig);t.origin&&(e.origin=t.origin),t.destination&&(e.destination=t.destination),wx.request({url:"https://restapi.amap.com/v3/direction/walking",data:e,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.route&&t.success({paths:e.data.route.paths})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},a.prototype.getTransitRoute=function(t){var e=Object.assign({},this.requestConfig);t.origin&&(e.origin=t.origin),t.destination&&(e.destination=t.destination),t.strategy&&(e.strategy=t.strategy),t.city&&(e.city=t.city),t.cityd&&(e.cityd=t.cityd),wx.request({url:"https://restapi.amap.com/v3/direction/transit/integrated",data:e,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.route&&(e=e.data.route,t.success({distance:e.distance||"",taxi_cost:e.taxi_cost||"",transits:e.transits}))},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},a.prototype.getRidingRoute=function(t){var e=Object.assign({},this.requestConfig);t.origin&&(e.origin=t.origin),t.destination&&(e.destination=t.destination),wx.request({url:"https://restapi.amap.com/v3/direction/riding",data:e,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.route&&t.success({paths:e.data.route.paths})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},t.exports.AMapWX=a},1370:function(t,e,s){"use strict";s.d(e,"b",(function(){return a})),s.d(e,"c",(function(){return i})),s.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"index"},[a("v-uni-map",{attrs:{id:"myMap",longitude:t.longitude,latitude:t.latitude,markers:t.markers}},t._l(t.markers,(function(t,e){return a("map-marker",{key:e,attrs:{longitude:t.longitude,latitude:t.latitude,iconPath:t.iconPath,width:t.width,height:t.height}})})),1),a("v-uni-view",{staticClass:"mask"},[a("v-uni-view",{staticClass:"status-bar",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upDate.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"trumpetpic",attrs:{src:s("2d65")}}),t._v(t._s(t.driverStatusInfo))],1),a("v-uni-view",{staticClass:"maskItem"},[a("v-uni-image",{staticClass:"pic",attrs:{src:s("f3f2"),mode:""}}),a("v-uni-view",{staticClass:"place"},[t._v(t._s(t.start))]),a("v-uni-text",{staticClass:"now"},[t._v("当前")])],1),a("v-uni-view",{staticClass:"maskItem",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDestination.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"pic",attrs:{src:s("e07f"),mode:""}}),a("v-uni-view",{staticClass:"place",model:{value:t.dest,callback:function(e){t.dest=e},expression:"dest"}},[t._v(t._s(this.targetcopy.name||"请选择目的地"))])],1),t.dest?a("v-uni-view",{staticClass:"maskItem"},[a("v-uni-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getDriverStatus.apply(void 0,arguments)}}},[t._v("一键叫车")])],1):t._e()],1)],1)},i=[]},"2d65":function(t,e){t.exports="data:image/png;base64,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"},"2de5":function(t,e,s){var a=s("5366");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("4f06").default;i("1f0a0c8c",a,!0,{sourceMap:!1,shadowMode:!1})},5366:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.index[data-v-c6584626]{width:100vw;height:100vh}.index #myMap[data-v-c6584626]{width:100vw;height:100vh}.index .mask[data-v-c6584626]{width:98vw;background-color:#fff;position:fixed;left:1vw;bottom:15vw;box-shadow:1px 1px 4px 4px #ccc}.index .mask .status-bar[data-v-c6584626]{position:relative;\n  /* 相对定位 */width:100vw;\n  /* 宽度和页面一致 */height:10vw;\n  /* 设置合适的高度 */line-height:10vw;\n  /* 将文本垂直居中 */text-align:center;\n  /* 文本居中 */bottom:0;\n  /* 距离底部0 */background-color:#fff;\n  /* 设置背景色 */box-shadow:2px 2px 4px 4px #ccc;\n  /* 添加阴影效果 */font-size:4vw;\n  /* 设置合适的字体大小 */color:#333\n  /* 设置文本颜色 */}.index .mask .status-bar .trumpetpic[data-v-c6584626]{position:absolute;\n  /* 绝对定位 */left:%?40?%;\n  /* 将喇叭固定在左侧 */top:50%;\n  /* 将喇叭垂直居中 */-webkit-transform:translateY(-50%);transform:translateY(-50%);\n  /* 调整喇叭的垂直位置 */width:%?42?%;\n  /* 设置喇叭图片的宽度 */height:%?42?%\n  /* 设置喇叭图片的高度 */}.index .mask .maskItem[data-v-c6584626]{height:%?120?%;border:2px solid #eee;display:flex;padding:0 %?40?%;align-items:center}.index .mask .maskItem .pic[data-v-c6584626]{width:%?50?%;height:%?50?%;margin-right:%?40?%}.index .mask .maskItem .place[data-v-c6584626]{flex:1;color:#999}.index .mask .maskItem .now[data-v-c6584626]{background-color:#5f9ea0;color:#fff;font-size:%?20?%;padding:%?8?%}',""]),t.exports=e},6130:function(t,e,s){"use strict";s.r(e);var a=s("1370"),i=s("974e");for(var o in i)["default"].indexOf(o)<0&&function(t){s.d(e,t,(function(){return i[t]}))}(o);s("ade1");var r=s("f0c5"),n=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"c6584626",null,!1,a["a"],void 0);e["default"]=n.exports},"77d6":function(t,e,s){"use strict";s("7a82");var a=s("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s("d3b7"),s("c740"),s("14d9");var i=a(s("0f15")),o={data:function(){return{myAmapFun:void 0,start:"",longitude:"",latitude:"",markers:[],target:"",targetcopy:"",lng:"",lat:"",endadress:"",token:"",userinfo:"",orderId:"",dest:"",driverStatusInfo:"请稍候..."}},onLoad:function(){this.myAmapFun=new i.default.AMapWX({key:"ceb72741060af13228ee8c0eb730b40d"}),this.getLocation()},onShow:function(){this.token=uni.getStorageSync("Token"),console.log(this.token),this.target=uni.getStorageSync("target")?JSON.parse(uni.getStorageSync("target")):"请选择目的地",console.log("this.target",this.target),this.targetcopy=uni.getStorageSync("targetcopy")?JSON.parse(uni.getStorageSync("target")):"请选择目的地",this.dest=this.targetcopy.name,this.dest&&"请选择目的地"!==this.dest||(this.dest=""),uni.removeStorageSync("targetcopy"),uni.removeStorageSync("target");var t=this.target["location"].split(",");this.lng=t[0],this.lat=t[1],this.endadress=this.target["name"],console.log("目的地经度是:",this.lng),console.log("目的地纬度是:",this.lat),console.log("目的地名称是:",this.endadress);var e=this.markers.some((function(t){return 2===t.id}));if(e){var s=this.markers.findIndex((function(t){return 2===t.id}));this.markers[s].longitude=this.lng,this.markers[s].latitude=this.lat}else{var a={id:2,longitude:this.lng,latitude:this.lat,iconPath:"../../static/endaddress.png",width:50,height:50};this.markers.push(a)}console.log("this.markers",this.markers)},methods:{getLocation:function(){var t=this;this.myAmapFun.getRegeo({success:function(e){console.log("当前位置信息",e),t.start=e[0].name,t.longitude=e[0].longitude,t.latitude=e[0].latitude;var s={id:1,latitude:t.latitude,longitude:t.longitude,iconPath:"../../static/start.png",width:50,height:50};t.markers.push(s),console.log("this.markers",t.markers)},fail:function(t){console.log("获取位置失败",t)}})},getDriverStatus:function(){var t=this;uni.request({url:"http://localhost:8023/driver/alterOrder",method:"POST",header:{"Content-Type":"application/json",token:this.token},data:{userid:this.userinfo["user"],callx:this.longitude,cally:this.latitude,staddr:this.start,endx:this.lng,endy:this.lat,endaddr:this.dest,melige:""},success:function(e){console.log(e),200==e.statusCode?(uni.showToast({icon:"success",title:"下单成功！"}),t.orderId=e.data.data.id,console.log("orderid",t.orderId)):(console.log("下单失败"),uni.showToast({icon:"error",title:"下单失败"}))},fail:function(t){console.log("下单失败",t),uni.showToast({icon:"error",title:"下单失败"})}})},upDate:function(){var t=this;uni.request({url:"http://localhost:8023/driver/getOrderPlus?id="+this.orderId,method:"GET",success:function(e){console.log(e),200==e.statusCode&&(0!=e.data.data.code?t.driverStatusInfo="叮！司机正在赶来的路上~":(console.log("暂无司机接单",e.data.data.code),t.driverStatusInfo="暂无司机接单"))},fail:function(t){console.log("订单更新失败",t),uni.showToast({icon:"error",title:"订单更新失败"})}})},toDestination:function(){uni.navigateTo({url:"/pages/destination/destination"})}}};e.default=o},"974e":function(t,e,s){"use strict";s.r(e);var a=s("77d6"),i=s.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){s.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},ade1:function(t,e,s){"use strict";var a=s("2de5"),i=s.n(a);i.a},e07f:function(t,e,s){t.exports=s.p+"static/img/redaddress.d0f06c91.png"},f3f2:function(t,e,s){t.exports=s.p+"static/img/myaddress.aec85c83.png"}}]);