(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-destination-destination"],{"0f15":function(e,t,a){function s(e){this.key=e.key,this.requestConfig={key:e.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"},this.MeRequestConfig={key:e.key,serviceName:"https://restapi.amap.com/rest/me"}}a("4de4"),a("d3b7"),a("acd8"),a("14d9"),s.prototype.getWxLocation=function(e,t){wx.getLocation({type:"gcj02",success:function(e){e=e.longitude+","+e.latitude,wx.setStorage({key:"userLocation",data:e}),t(e)},fail:function(a){wx.getStorage({key:"userLocation",success:function(e){e.data&&t(e.data)}}),e.fail({errCode:"0",errMsg:a.errMsg||""})}})},s.prototype.getMEKeywordsSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"缺少必要参数"});var t=e.options,a=this.MeRequestConfig,s={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(s.layerId=t.layerId),t.keywords&&(s.keywords=t.keywords),t.city&&(s.city=t.city),t.filter&&(s.filter=t.filter),t.sortrule&&(s.sortrule=t.sortrule),t.pageNum&&(s.pageNum=t.pageNum),t.pageSize&&(s.pageSize=t.pageSize),t.sig&&(s.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/local",data:s,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getMEIdSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"缺少必要参数"});var t=e.options,a=this.MeRequestConfig,s={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(s.layerId=t.layerId),t.id&&(s.id=t.id),t.sig&&(s.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/id",data:s,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getMEPolygonSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"缺少必要参数"});var t=e.options,a=this.MeRequestConfig,s={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(s.layerId=t.layerId),t.keywords&&(s.keywords=t.keywords),t.polygon&&(s.polygon=t.polygon),t.filter&&(s.filter=t.filter),t.sortrule&&(s.sortrule=t.sortrule),t.pageNum&&(s.pageNum=t.pageNum),t.pageSize&&(s.pageSize=t.pageSize),t.sig&&(s.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/polygon",data:s,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getMEaroundSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"缺少必要参数"});var t=e.options,a=this.MeRequestConfig,s={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(s.layerId=t.layerId),t.keywords&&(s.keywords=t.keywords),t.center&&(s.center=t.center),t.radius&&(s.radius=t.radius),t.filter&&(s.filter=t.filter),t.sortrule&&(s.sortrule=t.sortrule),t.pageNum&&(s.pageNum=t.pageNum),t.pageSize&&(s.pageSize=t.pageSize),t.sig&&(s.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/around",data:s,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getGeo=function(e){var t=this.requestConfig,a=e.options;t={key:this.key,extensions:"all",s:t.s,platform:t.platform,appname:this.key,sdkversion:t.sdkversion,logversion:t.logversion},a.address&&(t.address=a.address),a.city&&(t.city=a.city),a.batch&&(t.batch=a.batch),a.sig&&(t.sig=a.sig),wx.request({url:"https://restapi.amap.com/v3/geocode/geo",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status?e.success(t):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getRegeo=function(e){function t(t){var s=a.requestConfig;wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:a.key,location:t,extensions:"all",s:s.s,platform:s.platform,appname:a.key,sdkversion:s.sdkversion,logversion:s.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){if(a.data.status&&"1"==a.data.status){a=a.data.regeocode;var s=a.addressComponent,i=[],o=a.roads[0].name+"附近",n=t.split(",")[0],r=t.split(",")[1];if(a.pois&&a.pois[0]){o=a.pois[0].name+"附近";var c=a.pois[0].location;c&&(n=parseFloat(c.split(",")[0]),r=parseFloat(c.split(",")[1]))}s.provice&&i.push(s.provice),s.city&&i.push(s.city),s.district&&i.push(s.district),s.streetNumber&&s.streetNumber.street&&s.streetNumber.number?(i.push(s.streetNumber.street),i.push(s.streetNumber.number)):i.push(a.roads[0].name),i=i.join(""),e.success([{iconPath:e.iconPath,width:e.iconWidth,height:e.iconHeight,name:i,desc:o,longitude:n,latitude:r,id:0,regeocodeData:a}])}else e.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var a=this;e.location?t(e.location):a.getWxLocation(e,(function(e){t(e)}))},s.prototype.getWeather=function(e){function t(t){var i="base";e.type&&"forecast"==e.type&&(i="all"),wx.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",data:{key:a.key,city:t,extensions:i,s:s.s,platform:s.platform,appname:a.key,sdkversion:s.sdkversion,logversion:s.logversion},method:"GET",header:{"content-type":"application/json"},success:function(t){if(t.data.status&&"1"==t.data.status)if(t.data.lives){if((t=t.data.lives)&&0<t.length){t=t[0];var a={city:{text:"城市",data:t.city},weather:{text:"天气",data:t.weather},temperature:{text:"温度",data:t.temperature},winddirection:{text:"风向",data:t.winddirection+"风"},windpower:{text:"风力",data:t.windpower+"级"},humidity:{text:"湿度",data:t.humidity+"%"}};a.liveData=t,e.success(a)}}else t.data.forecasts&&t.data.forecasts[0]&&e.success({forecast:t.data.forecasts[0]});else e.fail({errCode:t.data.infocode,errMsg:t.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var a=this,s=a.requestConfig;e.city?t(e.city):a.getWxLocation(e,(function(i){(function(i){wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:a.key,location:i,extensions:"all",s:s.s,platform:s.platform,appname:a.key,sdkversion:s.sdkversion,logversion:s.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){if(a.data.status&&"1"==a.data.status){if(a=a.data.regeocode,a.addressComponent)var s=a.addressComponent.adcode;else a.aois&&0<a.aois.length&&(s=a.aois[0].adcode);t(s)}else e.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})})(i)}))},s.prototype.getPoiAround=function(e){function t(t){t={key:a.key,location:t,s:s.s,platform:s.platform,appname:a.key,sdkversion:s.sdkversion,logversion:s.logversion},e.querytypes&&(t.types=e.querytypes),e.querykeywords&&(t.keywords=e.querykeywords),wx.request({url:"https://restapi.amap.com/v3/place/around",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){if(t.data.status&&"1"==t.data.status){if((t=t.data)&&t.pois){for(var a=[],s=0;s<t.pois.length;s++){var i=0==s?e.iconPathSelected:e.iconPath;a.push({latitude:parseFloat(t.pois[s].location.split(",")[1]),longitude:parseFloat(t.pois[s].location.split(",")[0]),iconPath:i,width:22,height:32,id:s,name:t.pois[s].name,address:t.pois[s].address})}e.success({markers:a,poisData:t.pois})}}else e.fail({errCode:t.data.infocode,errMsg:t.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var a=this,s=a.requestConfig;e.location?t(e.location):a.getWxLocation(e,(function(e){t(e)}))},s.prototype.getStaticmap=function(e){function t(t){a.push("location="+t),e.zoom&&a.push("zoom="+e.zoom),e.size&&a.push("size="+e.size),e.scale&&a.push("scale="+e.scale),e.markers&&a.push("markers="+e.markers),e.labels&&a.push("labels="+e.labels),e.paths&&a.push("paths="+e.paths),e.traffic&&a.push("traffic="+e.traffic),t="https://restapi.amap.com/v3/staticmap?"+a.join("&"),e.success({url:t})}var a=[];a.push("key="+this.key);var s=this.requestConfig;a.push("s="+s.s),a.push("platform="+s.platform),a.push("appname="+s.appname),a.push("sdkversion="+s.sdkversion),a.push("logversion="+s.logversion),e.location?t(e.location):this.getWxLocation(e,(function(e){t(e)}))},s.prototype.getInputtips=function(e){var t=Object.assign({},this.requestConfig);e.location&&(t.location=e.location),e.keywords&&(t.keywords=e.keywords),e.type&&(t.type=e.type),e.city&&(t.city=e.city),e.citylimit&&(t.citylimit=e.citylimit),wx.request({url:"https://restapi.amap.com/v3/assistant/inputtips",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.tips&&e.success({tips:t.data.tips})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getDrivingRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),e.strategy&&(t.strategy=e.strategy),e.waypoints&&(t.waypoints=e.waypoints),e.avoidpolygons&&(t.avoidpolygons=e.avoidpolygons),e.avoidroad&&(t.avoidroad=e.avoidroad),wx.request({url:"https://restapi.amap.com/v3/direction/driving",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths,taxi_cost:t.data.route.taxi_cost||""})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getWalkingRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),wx.request({url:"https://restapi.amap.com/v3/direction/walking",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getTransitRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),e.strategy&&(t.strategy=e.strategy),e.city&&(t.city=e.city),e.cityd&&(t.cityd=e.cityd),wx.request({url:"https://restapi.amap.com/v3/direction/transit/integrated",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&(t=t.data.route,e.success({distance:t.distance||"",taxi_cost:t.taxi_cost||"",transits:t.transits}))},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getRidingRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),wx.request({url:"https://restapi.amap.com/v3/direction/riding",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},e.exports.AMapWX=s},"12cb":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-uni-view",{staticClass:"destination"},[s("v-uni-view",{staticClass:"content"},[s("v-uni-view",{staticClass:"item"},[s("v-uni-image",{attrs:{src:a("e07f"),mode:""}}),s("v-uni-input",{staticClass:"input",attrs:{type:"text"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.handleInput.apply(void 0,arguments)}}}),s("v-uni-view",{staticClass:"cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleCancel.apply(void 0,arguments)}}},[e._v("取消")])],1),s("v-uni-view",{staticClass:"list"},[e.list.length?e._e():s("v-uni-view",{staticClass:"item"},[s("v-uni-image",{attrs:{src:a("61d2"),mode:""}}),s("v-uni-view",{staticClass:"text"},[s("v-uni-view",{staticClass:"title"},[e._v("无目的地叫车")]),s("v-uni-view",{staticClass:"desc"},[e._v("请在输入框中输入目的地")])],1)],1),e._l(e.list,(function(t){return s("v-uni-view",{key:t.id,staticClass:"item",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.toIndex(t)}}},[s("v-uni-image",{attrs:{src:a("61d2"),mode:""}}),s("v-uni-view",{staticClass:"text"},[s("v-uni-view",{staticClass:"title"},[e._v(e._s(t.name))]),s("v-uni-view",{staticClass:"desc"},[e._v(e._s(t.district))])],1)],1)}))],2)],1)],1)},i=[]},2124:function(e,t,a){"use strict";a.r(t);var s=a("9000"),i=a.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(o);t["default"]=i.a},"52a1":function(e,t,a){"use strict";var s=a("ea01"),i=a.n(s);i.a},"61d2":function(e,t,a){e.exports=a.p+"static/img/address.f16d750f.png"},9e3:function(e,t,a){"use strict";a("7a82");var s=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4");var i=s(a("0f15")),o={data:function(){return{myAmapFun:void 0,list:[]}},methods:{handleInput:function(e){var t=this;console.log(e.detail.value);var a=e.detail.value;this.myAmapFun.getInputtips({keywords:a,success:function(e){console.log("关键字相关的提示列表",e),t.list=e.tips}})},toIndex:function(e){console.log("当前点击的是item ",e),uni.setStorageSync("target",JSON.stringify(e)),uni.setStorageSync("targetcopy",JSON.stringify(e)),uni.switchTab({url:"/pages/Passenger/Passenger"})},handleCancel:function(){uni.switchTab({url:"/pages/Passenger/Passenger"})}},onLoad:function(){this.token=uni.getStorageSync("Token"),""!==this.token?this.myAmapFun=new i.default.AMapWX({key:"ceb72741060af13228ee8c0eb730b40d"}):uni.navigateTo({url:"/pages/login/login"})}};t.default=o},e07f:function(e,t,a){e.exports=a.p+"static/img/redaddress.d0f06c91.png"},e519:function(e,t,a){"use strict";a.r(t);var s=a("12cb"),i=a("2124");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("52a1");var n=a("f0c5"),r=Object(n["a"])(i["default"],s["b"],s["c"],!1,null,"3ef8207d",null,!1,s["a"],void 0);t["default"]=r.exports},ea01:function(e,t,a){var s=a("f847");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("4f06").default;i("7ae01373",s,!0,{sourceMap:!1,shadowMode:!1})},f847:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.destination[data-v-3ef8207d]{width:100vw;height:100vh;overflow:scroll;padding:%?40?% %?20?%;box-sizing:border-box}.destination .content[data-v-3ef8207d]{box-shadow:1px 1px 2px 2px #eee;height:100%}.destination .content uni-image[data-v-3ef8207d]{width:%?70?%;height:%?70?%;margin:%?40?%}.destination .content .item[data-v-3ef8207d]{height:%?120?%;border-bottom:2.5px solid #eee;display:flex;align-items:center}.destination .content .item .input[data-v-3ef8207d]{flex:1}.destination .content .item .text .desc[data-v-3ef8207d]{font-size:%?24?%;color:#aaa;margin-top:%?8?%}.destination .content .item .cancel[data-v-3ef8207d]{width:%?120?%;height:%?60?%;line-height:%?60?%;text-align:center;background-color:#fff;color:#333;font-size:%?30?%;border-radius:%?30?%;box-shadow:0 0 %?2?% %?2?% #ddd;margin-right:%?20?%}.destination .content .list[data-v-3ef8207d]{height:calc(100% - %?120?%);overflow:scroll}',""]),e.exports=t}}]);