(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"03e8":function(t,e,a){"use strict";a.r(e);var i=a("dc70"),s=a("dae6");for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(o);a("0e44");var n=a("f0c5"),r=Object(n["a"])(s["default"],i["b"],i["c"],!1,null,"8d4c09be",null,!1,i["a"],void 0);e["default"]=r.exports},"0cfbe":function(t,e,a){t.exports=a.p+"static/img/myaddress.aec85c83.png"},"0e44":function(t,e,a){"use strict";var i=a("a6a5"),s=a.n(i);s.a},2970:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("14d9");var s=i(a("82e4")),o={data:function(){return{myAmapFun:void 0,start:"",longitude:"",latitude:"",markers:[],target:""}},onLoad:function(){this.myAmapFun=new s.default.AMapWX({key:"293291e5b982755b78f967ecc18bce6c"}),this.getLocaltion()},onShow:function(){this.target=uni.getStorage("target")?JSON.parse(uni.getStorageSync("target")):""},methods:{getLocaltion:function(){var t=this;this.myAmapFun.getRegeo({success:function(e){console.log("当前位置的信息",e),t.start=e[0].name,t.latitude=e[0].latitude,t.longitude=e[0].longitude;var a={id:1,latitude:t.latitude,longitude:t.longitude,iconPath:"../../static/myaddress.png",width:30,height:30};t.markers.push(a)},fail:function(t){console.log("获取当前位置失败",t)}})},toDestination:function(){uni.navigateTo({url:"../distination/distination"})}}};e.default=o},"2d32":function(t,e,a){t.exports=a.p+"static/img/redaddress.d0f06c91.png"},"82e4":function(t,e,a){function i(t){this.key=t.key,this.requestConfig={key:t.key,s:"rsx",platform:"WXJS",appname:t.key,sdkversion:"1.2.0",logversion:"2.0"}}a("acd8"),a("14d9"),i.prototype.getWxLocation=function(t,e){wx.getLocation({type:"gcj02",success:function(t){var a=t.longitude+","+t.latitude;wx.setStorage({key:"userLocation",data:a}),e(a)},fail:function(a){wx.getStorage({key:"userLocation",success:function(t){t.data&&e(t.data)}}),t.fail({errCode:"0",errMsg:a.errMsg||""})}})},i.prototype.getRegeo=function(t){function e(e){var i=a.requestConfig;wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:a.key,location:e,extensions:"all",s:i.s,platform:i.platform,appname:a.key,sdkversion:i.sdkversion,logversion:i.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){var i,s,o,n,r,c,d,p,u;a.data.status&&"1"==a.data.status?(i=a.data.regeocode,s=i.addressComponent,o=[],n="",i&&i.roads[0]&&i.roads[0].name&&(n=i.roads[0].name+"附近"),r=e.split(",")[0],c=e.split(",")[1],i.pois&&i.pois[0]&&(n=i.pois[0].name+"附近",d=i.pois[0].location,d&&(r=parseFloat(d.split(",")[0]),c=parseFloat(d.split(",")[1]))),s.provice&&o.push(s.provice),s.city&&o.push(s.city),s.district&&o.push(s.district),s.streetNumber&&s.streetNumber.street&&s.streetNumber.number?(o.push(s.streetNumber.street),o.push(s.streetNumber.number)):(p="",i&&i.roads[0]&&i.roads[0].name&&(p=i.roads[0].name),o.push(p)),o=o.join(""),u=[{iconPath:t.iconPath,width:t.iconWidth,height:t.iconHeight,name:o,desc:n,longitude:r,latitude:c,id:0,regeocodeData:i}],t.success(u)):t.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var a=this;t.location?e(t.location):a.getWxLocation(t,(function(t){e(t)}))},i.prototype.getWeather=function(t){function e(e){var a="base";t.type&&"forecast"==t.type&&(a="all"),wx.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",data:{key:i.key,city:e,extensions:a,s:s.s,platform:s.platform,appname:i.key,sdkversion:s.sdkversion,logversion:s.logversion},method:"GET",header:{"content-type":"application/json"},success:function(e){var a,i;e.data.status&&"1"==e.data.status?e.data.lives?(a=e.data.lives,a&&a.length>0&&(a=a[0],i=function(t){var e={city:{text:"城市",data:t.city},weather:{text:"天气",data:t.weather},temperature:{text:"温度",data:t.temperature},winddirection:{text:"风向",data:t.winddirection+"风"},windpower:{text:"风力",data:t.windpower+"级"},humidity:{text:"湿度",data:t.humidity+"%"}};return e}(a),i["liveData"]=a,t.success(i))):e.data.forecasts&&e.data.forecasts[0]&&t.success({forecast:e.data.forecasts[0]}):t.fail({errCode:e.data.infocode,errMsg:e.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}function a(a){wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:i.key,location:a,extensions:"all",s:s.s,platform:s.platform,appname:i.key,sdkversion:s.sdkversion,logversion:s.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){var i,s;a.data.status&&"1"==a.data.status?(s=a.data.regeocode,s.addressComponent?i=s.addressComponent.adcode:s.aois&&s.aois.length>0&&(i=s.aois[0].adcode),e(i)):t.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var i=this,s=i.requestConfig;t.city?e(t.city):i.getWxLocation(t,(function(t){a(t)}))},i.prototype.getPoiAround=function(t){function e(e){var s={key:a.key,location:e,s:i.s,platform:i.platform,appname:a.key,sdkversion:i.sdkversion,logversion:i.logversion};t.querytypes&&(s["types"]=t.querytypes),t.querykeywords&&(s["keywords"]=t.querykeywords),wx.request({url:"https://restapi.amap.com/v3/place/around",data:s,method:"GET",header:{"content-type":"application/json"},success:function(e){var a,i,s,o;if(e.data.status&&"1"==e.data.status){if(e=e.data,e&&e.pois){for(a=[],i=0;i<e.pois.length;i++)s=0==i?t.iconPathSelected:t.iconPath,a.push({latitude:parseFloat(e.pois[i].location.split(",")[1]),longitude:parseFloat(e.pois[i].location.split(",")[0]),iconPath:s,width:22,height:32,id:i,name:e.pois[i].name,address:e.pois[i].address});o={markers:a,poisData:e.pois},t.success(o)}}else t.fail({errCode:e.data.infocode,errMsg:e.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var a=this,i=a.requestConfig;t.location?e(t.location):a.getWxLocation(t,(function(t){e(t)}))},i.prototype.getStaticmap=function(t){function e(e){s.push("location="+e),t.zoom&&s.push("zoom="+t.zoom),t.size&&s.push("size="+t.size),t.scale&&s.push("scale="+t.scale),t.markers&&s.push("markers="+t.markers),t.labels&&s.push("labels="+t.labels),t.paths&&s.push("paths="+t.paths),t.traffic&&s.push("traffic="+t.traffic);var a=o+s.join("&");t.success({url:a})}var a,i=this,s=[],o="https://restapi.amap.com/v3/staticmap?";s.push("key="+i.key),a=i.requestConfig,s.push("s="+a.s),s.push("platform="+a.platform),s.push("appname="+a.appname),s.push("sdkversion="+a.sdkversion),s.push("logversion="+a.logversion),t.location?e(t.location):i.getWxLocation(t,(function(t){e(t)}))},i.prototype.getInputtips=function(t){var e=this,a=e.requestConfig,i={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.location&&(i["location"]=t.location),t.keywords&&(i["keywords"]=t.keywords),t.type&&(i["type"]=t.type),t.city&&(i["city"]=t.city),t.citylimit&&(i["citylimit"]=t.citylimit),wx.request({url:"https://restapi.amap.com/v3/assistant/inputtips",data:i,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.tips&&t.success({tips:e.data.tips})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},i.prototype.getDrivingRoute=function(t){var e=this,a=e.requestConfig,i={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(i["origin"]=t.origin),t.destination&&(i["destination"]=t.destination),t.strategy&&(i["strategy"]=t.strategy),t.waypoints&&(i["waypoints"]=t.waypoints),t.avoidpolygons&&(i["avoidpolygons"]=t.avoidpolygons),t.avoidroad&&(i["avoidroad"]=t.avoidroad),wx.request({url:"https://restapi.amap.com/v3/direction/driving",data:i,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.route&&t.success({paths:e.data.route.paths,taxi_cost:e.data.route.taxi_cost||""})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},i.prototype.getWalkingRoute=function(t){var e=this,a=e.requestConfig,i={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(i["origin"]=t.origin),t.destination&&(i["destination"]=t.destination),wx.request({url:"https://restapi.amap.com/v3/direction/walking",data:i,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.route&&t.success({paths:e.data.route.paths})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},i.prototype.getTransitRoute=function(t){var e=this,a=e.requestConfig,i={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(i["origin"]=t.origin),t.destination&&(i["destination"]=t.destination),t.strategy&&(i["strategy"]=t.strategy),t.city&&(i["city"]=t.city),t.cityd&&(i["cityd"]=t.cityd),wx.request({url:"https://restapi.amap.com/v3/direction/transit/integrated",data:i,method:"GET",header:{"content-type":"application/json"},success:function(e){if(e&&e.data&&e.data.route){var a=e.data.route;t.success({distance:a.distance||"",taxi_cost:a.taxi_cost||"",transits:a.transits})}},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},i.prototype.getRidingRoute=function(t){var e=this,a=e.requestConfig,i={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(i["origin"]=t.origin),t.destination&&(i["destination"]=t.destination),wx.request({url:"https://restapi.amap.com/v4/direction/bicycling",data:i,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.data&&t.success({paths:e.data.data.paths})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},t.exports.AMapWX=i},a6a5:function(t,e,a){var i=a("ec5a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("261a61fd",i,!0,{sourceMap:!1,shadowMode:!1})},dae6:function(t,e,a){"use strict";a.r(e);var i=a("2970"),s=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=s.a},dc70:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"index"},[i("v-uni-map",{attrs:{longitude:t.longitude,latitude:t.latitude,markers:t.markers,id:"myMap"}}),i("v-uni-view",{staticClass:"mask"},[i("v-uni-view",{staticClass:"maskItem"},[i("v-uni-image",{staticClass:"pic",attrs:{src:a("0cfbe"),mode:""}}),i("v-uni-view",{staticClass:"place"},[t._v(t._s(t.start))]),i("v-uni-text",{staticClass:"now"},[t._v("当前")])],1),i("v-uni-view",{staticClass:"maskItem",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDestination.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"pic",attrs:{src:a("2d32"),mode:""}}),i("v-uni-view",{staticClass:"place"},[t._v(t._s(t.target.name||"请选择目的地"))])],1),i("v-uni-view",{staticClass:"maskItem"},[i("v-uni-button",{staticStyle:{width:"100%"},attrs:{type:"primary"}},[t._v("一键叫车")])],1)],1)],1)},s=[]},ec5a:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.index[data-v-8d4c09be]{width:100vw;height:100vh}.index #myMap[data-v-8d4c09be]{width:100vw;height:100vh}.index .mask[data-v-8d4c09be]{width:98vw;background-color:#fff;position:fixed;left:1vw;bottom:1vw;box-shadow:2px 2px 9px 9px #ccc}.index .mask .maskItem[data-v-8d4c09be]{heigh:%?120?%;border:1px solid #ccc;display:flex;padding:0 %?40?%;align-items:center}.index .mask .maskItem .pic[data-v-8d4c09be]{width:%?50?%;height:%?50?%;margin-right:%?40?%}.index .mask .maskItem .place[data-v-8d4c09be]{flex:1;color:#999}.index .mask .maskItem .now[data-v-8d4c09be]{background-color:#5f9ea0;color:#fff;font-size:%?20?%;padding:%?5?%}',""]),t.exports=e}}]);